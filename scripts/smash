#!/usr/bin/python
#
# you would think that "env python" would work just as well in every case, but you'd be wrong
#

import sys

MSH_RC = '~/.ipython/smash/smash.rc'

def main():
    print "bootstrapping smart-shell from $MSH_RC"
    Shell.IPShellEmbed(argv=['-rcfile={0}'.format(MSH_RC)])()

if __name__=='__main__':
    try:
        from IPython import Shell
    except:
        print 'cannot run smash: system ipython is not available'
        sys.exit(1)
    else:
        main()
